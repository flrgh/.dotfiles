HashKnownHosts no
ForwardAgent no
IdentitiesOnly yes
AddKeysToAgent yes

ServerAliveInterval 15
ServerAliveCountMax 4

ControlPath ${XDG_RUNTIME_DIR}/.ssh_control_master_%C
ControlMaster auto
ControlPersist 600

Tag default

SendEnv yes
SetEnv SSH=1

Include ~/.ssh/config.d/*

# default SSH key, override by setting Tag to anything but `default`
# this has to go after my `Include` for some reason
Match Tagged !default
	IdentityFile ~/.ssh/id_ecdsa
